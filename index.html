<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="/style.css">
    <title>Document</title>
</head>
<body>
    <h1>TP Carrousel</h1>
    <div class="carrousel" x-data="{hrefCourant: '#ecran-1',}">
        <button class="carrousel_btn carrousel_btn-avant" aria-label="slide précedant" @click="$refs.parentscrollLeft -= $refs.parent.clientWidth"><img src="/img/arrowLine_left.svg" alt="fleche"></button>
        <button class="carrousel_btn carrousel_btn-apres" aria-label="slide suivant" @click="$refs.parentscrollLeft += $refs.parent.clientWidth"><img src="/img/arrowLine_right.svg" alt="flèche"></button>
        <div class="carrousel_parent-ecrans" x-ref="parent" @scroll.debounce.250ms.passive="
        hrefCourant = '#'+ [...$refs.parent.children].find(e=>e.getBoundingClientRect().x>=0).id">

            <div id="ecran-1" class="carrousel_ecran">
                <figure>
                    <img src="https://picsum.photos/seed/1/500/300" alt="image ecran 1">
                    <figcaption>Quartier Industriel</figcaption>
                </figure>
            </div>
            <div id="ecran-2" class="carrousel_ecran">
                <figure>
                    <img src="https://picsum.photos/seed/2/500/300" alt="image ecran 2">
                    <figcaption>Bureau Propre</figcaption>
                </figure>
            </div>
            <div id="ecran-3" class="carrousel_ecran">
                <figure>
                    <img src="https://picsum.photos/seed/3/500/300" alt="image ecran 3">
                    <figcaption>Cascade en Jungle</figcaption>
                </figure>
            </div>
            <div id="ecran-4" class="carrousel_ecran">
                <figure>
                    <img src="https://picsum.photos/seed/4/500/300" alt="image ecran 4">
                    <figcaption>Panier de Fraise</figcaption>
                </figure>
            </div>
            <div id="ecran-5" class="carrousel_ecran">
                <figure>
                    <img src="https://picsum.photos/seed/5/500/300" alt="image ecran 5">
                    <figcaption>Moi sous l'eau</figcaption>
                </figure>
            </div>
        </div>
        <ul class="carroussel_liste-liens">
            <li><a href="#ecran-1" :class="{actif:hrefCourant==='#ecran-1'} class="carroussel_lien">ecran 1</a></li>
            <li><a href="#ecran-2" class="carroussel_lien">ecran 2</a></li>
            <li><a href="#ecran-3" class="carroussel_lien">ecran 3</a></li>
            <li><a href="#ecran-4" class="carroussel_lien">ecran 4</a></li>
            <li><a href="#ecran-5" class="carroussel_lien">ecran 5</a></li>
        </ul>

</body>
</html>